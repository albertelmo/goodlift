# 앱 유저 메인 화면 설계 문서

## 📋 개요
앱 유저를 위한 모바일 중심의 메인 화면을 설계합니다. 기존 운영자 화면과 완전히 분리하여 독립적으로 관리하며, 모바일 최적화된 UI/UX를 제공합니다.

---

## 🗂️ 파일 구조 설계

### 1. 디렉토리 구조

```
public/
  js/
    app-user/                    # 앱 유저 전용 폴더
      index.js                   # 앱 유저 메인 진입점 (라우팅, 초기화)
      layout.js                  # 레이아웃 관리 (헤더, 햄버거 메뉴, 하단 네비)
      dashboard.js               # 홈/대시보드 화면
      workout/                   # 운동기록 관련
        index.js                 # 운동기록 메인
        list.js                  # 운동기록 목록
        add.js                   # 운동기록 추가
        edit.js                  # 운동기록 수정
      diet/                      # 식단기록 관련
        index.js                 # 식단기록 메인
        list.js                  # 식단기록 목록
        add.js                   # 식단기록 추가
        edit.js                  # 식단기록 수정
      profile.js                 # 마이페이지/프로필
      settings.js                # 설정
      api.js                     # API 호출 유틸리티
      utils.js                   # 공통 유틸리티 함수
  css/
    app-user.css                 # 앱 유저 전용 CSS
```

### 2. 파일별 역할

#### `app-user/index.js`
- 앱 유저 화면 초기화
- 라우팅 관리
- 모듈 간 통신 조율
- `showAppUserSection` 함수 포함

#### `app-user/layout.js`
- 헤더 렌더링 (로고, 햄버거 메뉴, 설정, 로그아웃)
- 햄버거 메뉴 관리 (열기/닫기, 애니메이션)
- 하단 네비게이션 바 관리
- 화면 전환 애니메이션

#### `app-user/dashboard.js`
- 홈 화면 렌더링
- 오늘의 운동/식단 요약
- 통계 정보 표시 (주간 운동 시간, 칼로리 등)

#### `app-user/workout/index.js`
- 운동기록 메인 화면
- 운동기록 목록과 추가 버튼
- 날짜 필터링

#### `app-user/workout/list.js`
- 운동기록 목록 렌더링
- 날짜별 그룹화
- 무한 스크롤 또는 페이지네이션

#### `app-user/workout/add.js`
- 운동기록 추가 모달/화면
- 운동 종류 선택
- 시간, 칼로리 입력

#### `app-user/workout/edit.js`
- 운동기록 수정 모달/화면
- 기존 데이터 로드
- 수정 및 삭제 기능

#### `app-user/diet/` (workout과 동일한 구조)
- 식단기록 관련 모든 기능

#### `app-user/profile.js`
- 프로필 정보 표시
- 프로필 수정 기능
- 통계 요약

#### `app-user/settings.js`
- 비밀번호 변경
- 알림 설정
- 계정 설정

#### `app-user/api.js`
- 앱 유저 관련 API 호출 함수들
- `getWorkoutRecords`, `addWorkoutRecord`, `updateWorkoutRecord`, `deleteWorkoutRecord`
- `getDietRecords`, `addDietRecord`, `updateDietRecord`, `deleteDietRecord`
- 에러 핸들링 포함

#### `app-user/utils.js`
- 날짜 포맷팅
- 칼로리 계산
- 데이터 검증
- 공통 유틸리티 함수

---

## 🎨 모바일 UI/UX 설계

### 1. 레이아웃 구조

```
┌─────────────────────────┐
│  [☰]  GoodLift  [⚙️]   │  ← 헤더 (고정)
├─────────────────────────┤
│                         │
│                         │
│      메인 컨텐츠         │  ← 스크롤 가능
│                         │
│                         │
├─────────────────────────┤
│  [홈] [운동] [식단] [내정보] │  ← 하단 네비게이션 (고정)
└─────────────────────────┘
```

### 2. 햄버거 메뉴 (사이드 드로어)

**위치**: 헤더 왼쪽 상단
**동작**:
- 클릭 시 왼쪽에서 슬라이드 인
- 배경 오버레이 표시
- 메뉴 항목 클릭 시 자동 닫힘
- 배경 클릭 시 닫힘

**메뉴 구성**:
- 홈
- 운동기록
- 식단기록
- 마이페이지
- 설정
- 로그아웃

### 3. 하단 네비게이션 바

**고정 위치**: 화면 하단
**항목**:
- 홈 (🏠)
- 운동기록 (💪)
- 식단기록 (🍎)
- 마이페이지 (👤)

**디자인**:
- 아이콘 + 텍스트
- 활성 탭 강조 (색상 변경)
- 터치 친화적 크기 (최소 44x44px)

### 4. 헤더

**구성**:
- 왼쪽: 햄버거 메뉴 버튼
- 중앙: 로고 또는 앱 이름
- 오른쪽: 설정 버튼, 로그아웃 버튼

**스타일**:
- 고정 위치 (스크롤해도 상단 고정)
- 그림자 효과
- 배경색: 흰색 또는 반투명

---

## 📱 모바일 최적화 요소

### 1. 터치 최적화
- 버튼 최소 크기: 44x44px
- 충분한 터치 영역
- 스와이프 제스처 지원 (향후)

### 2. 반응형 디자인
- 모바일 우선 설계
- 태블릿 대응
- 가로/세로 모드 대응

### 3. 성능 최적화
- 지연 로딩 (Lazy Loading)
- 이미지 최적화
- 애니메이션 최적화 (CSS transform 사용)

### 4. 접근성
- 키보드 네비게이션 지원
- 스크린 리더 대응
- 색상 대비 확보

---

## 🔧 기술 스택 및 패턴

### 1. 모듈 시스템
- ES6 Modules 사용 (`import`/`export`)
- 각 기능별 독립 모듈
- 명확한 의존성 관리

### 2. 상태 관리
- 각 모듈별 로컬 상태 관리
- 전역 상태는 `index.js`에서 관리
- 이벤트 기반 통신

### 3. API 통신
- `api.js`에서 중앙화된 API 호출
- 에러 핸들링 통일
- 로딩 상태 관리

### 4. 스타일링
- `app-user.css`에 앱 유저 전용 스타일
- 모바일 우선 미디어 쿼리
- CSS 변수 활용

---

## 📐 화면 구성 상세

### 1. 홈 화면 (Dashboard)

**구성 요소**:
- 환영 메시지 (사용자 이름)
- 오늘의 운동 요약 카드
- 오늘의 식단 요약 카드
- 주간 통계 (운동 시간, 소모 칼로리)
- 빠른 액션 버튼 (운동 추가, 식단 추가)

**레이아웃**:
- 카드 기반 그리드
- 세로 스크롤
- Pull-to-refresh (향후)

### 2. 운동기록 화면

**구성 요소**:
- 날짜 선택기 (상단)
- 운동기록 목록 (날짜별 그룹화)
- 플로팅 액션 버튼 (FAB) - 운동 추가
- 필터 옵션 (운동 종류별)

**레이아웃**:
- 리스트 뷰
- 날짜별 섹션
- 무한 스크롤 또는 페이지네이션

### 3. 식단기록 화면

**구성 요소**:
- 날짜 선택기 (상단)
- 식단기록 목록 (날짜별, 식사 종류별 그룹화)
- 플로팅 액션 버튼 (FAB) - 식단 추가
- 칼로리 합계 표시

**레이아웃**:
- 리스트 뷰
- 식사 종류별 섹션 (아침, 점심, 저녁, 간식)

### 4. 마이페이지 화면

**구성 요소**:
- 프로필 정보 (이름, 전화번호)
- 통계 요약 (총 운동 시간, 총 소모 칼로리 등)
- 설정 링크
- 로그아웃 버튼

**레이아웃**:
- 카드 기반
- 섹션별 구분

---

## 🎯 구현 단계

### Phase 1: 기본 구조
1. 폴더 구조 생성
2. `index.js` - 기본 진입점
3. `layout.js` - 레이아웃 관리
4. `dashboard.js` - 홈 화면 (기본 구조만)

### Phase 2: 레이아웃 완성
1. 헤더 구현
2. 햄버거 메뉴 구현
3. 하단 네비게이션 바 구현
4. 화면 전환 애니메이션

### Phase 3: 운동기록 기능
1. `workout/index.js` - 목록 화면
2. `workout/add.js` - 추가 기능
3. `workout/edit.js` - 수정/삭제 기능
4. API 연동

### Phase 4: 식단기록 기능
1. `diet/index.js` - 목록 화면
2. `diet/add.js` - 추가 기능
3. `diet/edit.js` - 수정/삭제 기능
4. API 연동

### Phase 5: 프로필 및 설정
1. `profile.js` - 프로필 화면
2. `settings.js` - 설정 화면
3. 비밀번호 변경 기능

---

## 🔄 기존 코드와의 통합

### 1. `main.js` 수정
- `showAppUserSection` 함수를 `app-user/index.js`로 이동
- 앱 유저 모듈 import 및 초기화

### 2. HTML 구조
- `index.html`에 앱 유저 전용 섹션 추가
- 기존 `mainSection`과 분리

### 3. CSS 분리
- `app-user.css` 생성
- 기존 스타일과 충돌 방지

---

## 📊 데이터 흐름

```
[사용자 액션]
    ↓
[app-user/index.js] (라우팅)
    ↓
[해당 모듈] (예: workout/index.js)
    ↓
[app-user/api.js] (API 호출)
    ↓
[백엔드 API]
    ↓
[데이터 반환]
    ↓
[모듈에서 렌더링]
```

---

## 🎨 디자인 가이드라인

### 1. 색상
- Primary: #667eea (보라색)
- Secondary: #764ba2 (진한 보라색)
- Success: #10b981 (초록색)
- Danger: #ef4444 (빨간색)
- Background: #f9fafb (연한 회색)

### 2. 타이포그래피
- 제목: 1.5rem, Bold
- 본문: 1rem, Regular
- 작은 텍스트: 0.85rem, Regular

### 3. 간격
- 섹션 간격: 24px
- 카드 내부 패딩: 16px
- 요소 간 간격: 12px

### 4. 그림자
- 카드: `0 2px 8px rgba(0,0,0,0.1)`
- 버튼: `0 4px 12px rgba(102, 126, 234, 0.3)`

---

## 🔐 보안 고려사항

1. **인증**: 앱 유저 ID를 localStorage에 저장하여 API 호출 시 사용
2. **권한**: 앱 유저는 자신의 데이터만 접근 가능
3. **입력 검증**: 프론트엔드와 백엔드 모두에서 검증

---

## 📝 참고사항

1. **확장성**: 향후 기능 추가 시 모듈만 추가하면 됨
2. **유지보수**: 기능별 파일 분리로 코드 관리 용이
3. **성능**: 필요한 모듈만 로드하여 초기 로딩 시간 단축
4. **테스트**: 각 모듈을 독립적으로 테스트 가능

---

## ✅ 체크리스트

### 파일 구조
- [ ] `public/js/app-user/` 폴더 생성
- [ ] 각 기능별 파일 생성
- [ ] `public/css/app-user.css` 생성

### 기본 구조
- [ ] `index.js` - 진입점 구현
- [ ] `layout.js` - 레이아웃 구현
- [ ] `api.js` - API 유틸리티 구현
- [ ] `utils.js` - 공통 유틸리티 구현

### UI 컴포넌트
- [ ] 헤더 컴포넌트
- [ ] 햄버거 메뉴 컴포넌트
- [ ] 하단 네비게이션 바 컴포넌트
- [ ] 카드 컴포넌트
- [ ] 모달 컴포넌트

### 기능 구현
- [ ] 홈 화면
- [ ] 운동기록 기능
- [ ] 식단기록 기능
- [ ] 프로필 화면
- [ ] 설정 화면
